<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–î–µ–º–æ –∏–≥—Ä ‚Äî Senza</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
      font-family: Arial, sans-serif;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .header h1 {
      color: #333;
      margin: 0;
    }
    
    .back-btn {
      display: inline-block;
      background: #FF6A00;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      border-radius: 5px;
      margin-top: 10px;
    }
    
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 30px;
    }
    
    .game-card {
      background: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .tablet-frame {
      width: 350px;
      height: 500px;
      background: #1a1a1a;
      border-radius: 20px;
      padding: 8px;
      margin: 0 auto;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    
    .tablet-screen {
      width: 100%;
      height: 100%;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
    }
    
    .tablet-content {
      width: 100%;
      height: 100%;
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      box-sizing: border-box;
    }
    
    .game-title {
      text-align: center;
      margin: 0 0 15px 0;
      font-size: 16px;
      color: #333;
    }
    
    .demo-btn {
      background: #FF6A00;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      margin: 10px auto;
      display: block;
    }
    
    .demo-btn:hover {
      background: #e55a00;
    }
    
    /* Hunt Circles Styles */
    .hunt-game {
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .player-area {
      flex: 1;
      border: 2px dashed #ddd;
      margin: 5px;
      border-radius: 8px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .player1 { background: rgba(255, 106, 0, 0.1); }
    .player2 { background: rgba(30, 111, 227, 0.1); }
    
    .player-label {
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #666;
    }
    
    .circles-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    
    .circle {
      position: absolute;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      transform: scale(0);
      transition: all 0.3s ease;
    }
    
    .circle.visible {
      opacity: 1;
      transform: scale(1);
    }
    
    .circle-1 { background: #FF6A00; top: 20%; left: 20%; }
    .circle-2 { background: #FF6A00; top: 60%; right: 20%; }
    .circle-3 { background: #FF6A00; bottom: 20%; left: 50%; }
    .circle-4 { background: #1E6FE3; top: 30%; right: 30%; }
    .circle-5 { background: #1E6FE3; bottom: 30%; left: 30%; }
    .circle-6 { background: #1E6FE3; top: 50%; left: 20%; }
    
    .timer {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 12px;
    }
    
    /* TicTacToe Styles */
    .tic-tac-toe {
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 3px;
      background: #333;
      padding: 10px;
      border-radius: 8px;
      margin: 10px 0;
    }
    
    .cell {
      width: 50px;
      height: 50px;
      background: white;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .cell.x { 
      color: #FF6A00; 
      animation: cellAppear 0.5s ease-out;
    }
    .cell.o { 
      color: #1E6FE3; 
      animation: cellAppear 0.5s ease-out;
    }
    
    @keyframes cellAppear {
      0% {
        transform: scale(0) rotate(180deg);
        opacity: 0;
      }
      50% {
        transform: scale(1.2) rotate(90deg);
        opacity: 0.8;
      }
      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }
    
    .game-info {
      text-align: center;
      font-size: 12px;
      margin-top: 10px;
    }
    
    .game-status {
      color: #666;
      font-weight: bold;
    }
    
    /* Remember Color Demo Styles */
    .remember-color-demo {
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 10px;
    }
    
    .color-sample-demo {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin-bottom: 15px;
      border: 3px solid #333;
      transition: all 0.3s ease;
    }
    
    .color-sample-demo.showing {
      transform: scale(1.2);
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
    }
    
    .color-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 2px;
      background: #333;
      padding: 8px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    
    .color-cell {
      width: 25px;
      height: 25px;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .color-cell:hover {
      transform: scale(1.1);
    }
    
    .color-cell.selected {
      border: 2px solid #fff;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    
    .color-cell.correct {
      border: 2px solid #4CAF50;
      box-shadow: 0 0 10px rgba(76,175,80,0.5);
    }
    
    .color-cell.wrong {
      border: 2px solid #F44336;
      box-shadow: 0 0 10px rgba(244,67,54,0.5);
    }
    
    .color-info {
      text-align: center;
      font-size: 12px;
    }
    
    .level, .target-color {
      margin: 5px 0;
      font-weight: bold;
    }
    
    .color-name {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>–î–µ–º–æ –∏–≥—Ä ‚Äî Senza</h1>
      <a href="index.html" class="back-btn">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
    
    <div class="games-grid">
      
      <!-- Hunt Circles Game -->
      <div class="game-card">
        <div class="tablet-frame">
          <div class="tablet-screen">
            <div class="tablet-content">
              <div class="hunt-game">
                <div class="player-area player1">
                  <div class="player-label">–ò–≥—Ä–æ–∫ 1 (–û—Ä–∞–Ω–∂–µ–≤—ã–µ)</div>
                  <div class="circles-container">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                  </div>
                </div>
                <div class="player-area player2">
                  <div class="player-label">–ò–≥—Ä–æ–∫ 2 (–°–∏–Ω–∏–µ)</div>
                  <div class="circles-container">
                    <div class="circle circle-4"></div>
                    <div class="circle circle-5"></div>
                    <div class="circle circle-6"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <p style="font-size: 14px; color: #666; margin-top: 15px; text-align: center;">
          üéØ –ë—ã—Å—Ç—Ä–æ –Ω–∞–∂–∏–º–∞–π –Ω–∞ –∫—Ä—É–∂–∫–∏! –ß–µ–º –±—ã—Å—Ç—Ä–µ–µ —Ç—ã –Ω–∞–∂–∏–º–∞–µ—à—å, —Ç–µ–º –±–æ–ª—å—à–µ –æ—á–∫–æ–≤ –ø–æ–ª—É—á–∞–µ—à—å.
        </p>
      </div>
      
      <!-- TicTacToe Game -->
      <div class="game-card">
        <div class="tablet-frame">
          <div class="tablet-screen">
            <div class="tablet-content">
              <div class="tic-tac-toe">
                <div class="board">
                  <div class="cell" data-index="0"></div>
                  <div class="cell" data-index="1"></div>
                  <div class="cell" data-index="2"></div>
                  <div class="cell" data-index="3"></div>
                  <div class="cell" data-index="4"></div>
                  <div class="cell" data-index="5"></div>
                  <div class="cell" data-index="6"></div>
                  <div class="cell" data-index="7"></div>
                  <div class="cell" data-index="8"></div>
                </div>
                <div class="game-info">
                  <div class="game-status">–ê–≤—Ç–æ–¥–µ–º–æ</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <p style="font-size: 14px; color: #666; margin-top: 15px; text-align: center;">
          ‚ùå‚≠ï –°–Ω–∞—á–∞–ª–∞ –ø–æ—Å—Ç–∞–≤—å 3 –∫—Ä–µ—Å—Ç–∏–∫–∞ –∏–ª–∏ –Ω–æ–ª–∏–∫–∞, –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–≤–∏–≥–∞–π –∏—Ö –ø–æ –æ—á–µ—Ä–µ–¥–∏!
        </p>
      </div>
      
      <!-- Remember Color Game -->
      <div class="game-card">
        <div class="tablet-frame">
          <div class="tablet-screen">
            <div class="tablet-content">
              <div class="remember-color-demo">
                <div class="color-sample-demo" id="colorSampleDemo"></div>
                <div class="color-grid" id="colorGridDemo"></div>
                <div class="color-info">
                  <div class="level">–£—Ä–æ–≤–µ–Ω—å: <span class="level-number">1</span></div>
                  <div class="target-color">–¶–≤–µ—Ç: <span class="color-name">–ö—Ä–∞—Å–Ω—ã–π</span></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <p style="font-size: 14px; color: #666; margin-top: 15px; text-align: center;">
          üé® –ó–∞–ø–æ–º–Ω–∏ —Ü–≤–µ—Ç –∏ –Ω–∞–π–¥–∏ –≤—Å–µ –∫–ª–µ—Ç–∫–∏ —ç—Ç–æ–≥–æ —Ü–≤–µ—Ç–∞ –Ω–∞ –ø–æ–ª–µ!
        </p>
      </div>
      
    </div>
  </div>

  <script>
    // Hunt Circles Demo - –õ–æ–≥–∏–∫–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã
    let huntPlaying = false;
    let huntScore1 = 0;
    let huntScore2 = 0;
    let huntWins1 = 0;
    let huntWins2 = 0;
    let huntSeconds = 20;
    let huntTimer = null;
    let huntLastHitTime = {1: 0, 2: 0};
    let huntCombo = {1: 0, 2: 0};
    
    function startHuntCirclesDemo() {
      huntPlaying = true;
      huntScore1 = 0;
      huntScore2 = 0;
      huntSeconds = 20;
      huntLastHitTime = {1: 0, 2: 0};
      huntCombo = {1: 0, 2: 0};
      
      // –û—á–∏—â–∞–µ–º –≤—Å–µ –∫—Ä—É–∂–∫–∏
      const circles = document.querySelectorAll('.circle');
      circles.forEach(circle => {
        circle.classList.remove('visible');
        circle.addEventListener('click', handleCircleClick);
      });
      
      startHuntTimer();
      startCircleSpawn();
    }
    
    function startCircleSpawn() {
      if (!huntPlaying) return;
      
      const player1Area = document.querySelector('.player1 .circles-container');
      const player2Area = document.querySelector('.player2 .circles-container');
      
      // –°–ø–∞–≤–Ω–∏–º –∫—Ä—É–∂–∫–∏ –¥–ª—è –∏–≥—Ä–æ–∫–∞ 1 (–æ—Ä–∞–Ω–∂–µ–≤—ã–µ)
      spawnCircleForPlayer(player1Area, 1);
      
      // –°–ø–∞–≤–Ω–∏–º –∫—Ä—É–∂–∫–∏ –¥–ª—è –∏–≥—Ä–æ–∫–∞ 2 (—Å–∏–Ω–∏–µ)
      spawnCircleForPlayer(player2Area, 2);
      
      // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å–ø–∞–≤–Ω
      setTimeout(() => {
        startCircleSpawn();
      }, Math.random() * 1500 + 1000);
    }
    
    function spawnCircleForPlayer(container, player) {
      const circle = document.createElement('div');
      circle.className = `circle circle-${player}`;
      circle.style.position = 'absolute';
      circle.style.width = '25px';
      circle.style.height = '25px';
      circle.style.borderRadius = '50%';
      circle.style.cursor = 'pointer';
      circle.style.opacity = '0';
      circle.style.transform = 'scale(0)';
      circle.style.transition = 'all 0.3s ease';
      circle.dataset.player = player;
      
      // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
      const rect = container.getBoundingClientRect();
      const x = Math.random() * (rect.width - 25);
      const y = Math.random() * (rect.height - 25);
      circle.style.left = x + 'px';
      circle.style.top = y + 'px';
      
      container.appendChild(circle);
      
      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
      setTimeout(() => {
        circle.style.opacity = '1';
        circle.style.transform = 'scale(1)';
      }, 50);
      
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2.2 —Å–µ–∫—É–Ω–¥—ã (–∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–µ)
      setTimeout(() => {
        if (circle.parentNode) {
          circle.style.opacity = '0';
          circle.style.transform = 'scale(0)';
          setTimeout(() => {
            if (circle.parentNode) {
              circle.remove();
            }
          }, 300);
        }
      }, 2200);
    }
    
    function handleCircleClick(event) {
      if (!huntPlaying) return;
      
      const circle = event.target;
      const player = parseInt(circle.dataset.player);
      
      // –õ–æ–≥–∏–∫–∞ –∫–æ–º–±–æ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã
      const now = performance.now();
      let points = 1;
      if (now - huntLastHitTime[player] < 650) {
        huntCombo[player] += 1;
      } else {
        huntCombo[player] = 1;
      }
      if (huntCombo[player] === 2) points = 2;
      if (huntCombo[player] >= 3) points = 3;
      
      huntLastHitTime[player] = now;
      if (player === 1) {
        huntScore1 += points;
      } else {
        huntScore2 += points;
      }
      
      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ø–∞–¥–∞–Ω–∏—è
      circle.style.background = '#4CAF50';
      circle.style.transform = 'scale(1.3)';
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—á–∫–∏
      showPoints(circle, points);
      
      // –£–¥–∞–ª—è–µ–º –∫—Ä—É–∂–æ–∫
      setTimeout(() => {
        if (circle.parentNode) {
          circle.remove();
        }
      }, 200);
      
      updateHuntHUD();
    }
    
    function showPoints(circle, points) {
      const pop = document.createElement('div');
      pop.className = 'points-pop';
      pop.textContent = points > 0 ? '+' + points : '';
      pop.style.position = 'absolute';
      pop.style.left = circle.style.left;
      pop.style.top = circle.style.top;
      pop.style.color = points >= 3 ? '#4CAF50' : (points === 2 ? '#FF9800' : '#2196F3');
      pop.style.fontWeight = 'bold';
      pop.style.fontSize = '12px';
      pop.style.pointerEvents = 'none';
      pop.style.zIndex = '1000';
      
      circle.parentNode.appendChild(pop);
      
      setTimeout(() => {
        if (pop.parentNode) {
          pop.remove();
        }
      }, 700);
    }
    
    function updateHuntHUD() {
      // –£–±—Ä–∞–ª–∏ HUD –¥–ª—è –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏
    }
    
    function startHuntTimer() {
      // –£–±—Ä–∞–ª–∏ —Ç–∞–π–º–µ—Ä –¥–ª—è –¥–µ–º–æ-–≤–µ—Ä—Å–∏–∏ - –ø—Ä–æ—Å—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è
      // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥
      setTimeout(() => {
        if (huntPlaying) {
          endHuntGame();
        }
      }, 15000);
    }
    
    function endHuntGame() {
      huntPlaying = false;
      
      // –û—á–∏—â–∞–µ–º –≤—Å–µ –∫—Ä—É–∂–∫–∏
      const circles = document.querySelectorAll('.circle');
      circles.forEach(circle => {
        if (circle.parentNode) {
          circle.remove();
        }
      });
      
      // –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        startHuntCirclesDemo();
      }, 2000);
    }
    
    // TicTacToe Demo - –õ–æ–≥–∏–∫–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã
    let ticPlaying = false;
    let ticBoard = Array(9).fill(null);
    let ticPhase = 'place'; // 'place' | 'move'
    let ticTurn = 'X';
    let ticPlaced = { X: 0, O: 0 };
    let ticOrder = { X: [], O: [] };
    let ticNextIndex = { X: 0, O: 0 };
    let ticScore = { X: 0, O: 0 };
    let ticGameOver = false;
    let ticDemoStep = 0;
    let ticDemoSequence = [];
    
    const ticWins = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    
    function startTicTacToeDemo() {
      ticPlaying = true;
      ticBoard = Array(9).fill(null);
      ticPhase = 'place';
      ticTurn = 'X';
      ticPlaced = { X: 0, O: 0 };
      ticOrder = { X: [], O: [] };
      ticNextIndex = { X: 0, O: 0 };
      ticGameOver = false;
      ticDemoStep = 0;
      
      // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
      const cells = document.querySelectorAll('.cell');
      cells.forEach(cell => {
        cell.textContent = '';
        cell.classList.remove('x', 'o');
      });
      
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–µ–º–æ-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
      generateTicDemoSequence();
      startTicDemo();
    }
    
    function generateTicDemoSequence() {
      ticDemoSequence = [];
      const availablePositions = [0, 1, 2, 3, 4, 5, 6, 7, 8];
      let currentPlayer = 'X';
      
      // –§–∞–∑–∞ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏ - –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ —Å—Ç–∞–≤–∏—Ç –ø–æ 3 —Ñ–∏—à–∫–∏
      for (let i = 0; i < 6; i++) {
        const randomIndex = Math.floor(Math.random() * availablePositions.length);
        const position = availablePositions[randomIndex];
        
        ticDemoSequence.push({
          phase: 'place',
          player: currentPlayer,
          position: position
        });
        
        // –£–±–∏—Ä–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
        availablePositions.splice(randomIndex, 1);
        
        // –ú–µ–Ω—è–µ–º –∏–≥—Ä–æ–∫–∞
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      }
      
      // –§–∞–∑–∞ –¥–≤–∏–∂–µ–Ω–∏—è - –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ö–æ–¥–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è
      for (let i = 0; i < 4; i++) {
        const emptyPositions = [];
        for (let j = 0; j < 9; j++) {
          if (ticBoard[j] === null) emptyPositions.push(j);
        }
        
        if (emptyPositions.length > 0) {
          const randomIndex = Math.floor(Math.random() * emptyPositions.length);
          const position = emptyPositions[randomIndex];
          
          ticDemoSequence.push({
            phase: 'move',
            player: currentPlayer,
            position: position
          });
          
          // –ú–µ–Ω—è–µ–º –∏–≥—Ä–æ–∫–∞
          currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        }
      }
    }
    
    function startTicDemo() {
      if (!ticPlaying || ticDemoStep >= ticDemoSequence.length) {
        ticPlaying = false;
        document.querySelector('.game-status').textContent = '–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞';
        setTimeout(() => {
          startTicTacToeDemo();
        }, 3000);
        return;
      }
      
      const move = ticDemoSequence[ticDemoStep];
      const cell = document.querySelector(`.cell[data-index="${move.position}"]`);
      
      if (move.phase === 'place') {
        // –§–∞–∑–∞ —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏
        ticBoard[move.position] = move.player;
        cell.textContent = move.player;
        cell.classList.add(move.player.toLowerCase());
        
        ticPlaced[move.player]++;
        ticOrder[move.player].push(move.position);
        if (ticOrder[move.player].length > 3) {
          ticOrder[move.player].shift();
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ñ–∞–∑–µ –¥–≤–∏–∂–µ–Ω–∏—è
        if (ticPlaced.X >= 3 && ticPlaced.O >= 3) {
          ticPhase = 'move';
        }
        
        document.querySelector('.game-status').textContent = `–†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞: ${ticPlaced.X}X, ${ticPlaced.O}O`;
      } else if (move.phase === 'move') {
        // –§–∞–∑–∞ –¥–≤–∏–∂–µ–Ω–∏—è
        const fifo = ticOrder[move.player];
        if (fifo.length >= 3) {
          const movePointer = ticNextIndex[move.player] % 3;
          const sourceIdx = fifo[movePointer];
          
          // –£–±–∏—Ä–∞–µ–º —Ñ–∏—à–∫—É —Å–æ —Å—Ç–∞—Ä–æ–π –ø–æ–∑–∏—Ü–∏–∏
          ticBoard[sourceIdx] = null;
          const sourceCell = document.querySelector(`.cell[data-index="${sourceIdx}"]`);
          sourceCell.textContent = '';
          sourceCell.classList.remove('x', 'o');
          
          // –°—Ç–∞–≤–∏–º –Ω–∞ –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
          ticBoard[move.position] = move.player;
          cell.textContent = move.player;
          cell.classList.add(move.player.toLowerCase());
          
          fifo[movePointer] = move.position;
          ticNextIndex[move.player] = (ticNextIndex[move.player] + 1) % 3;
          
          document.querySelector('.game-status').textContent = `–î–≤–∏–∂–µ–Ω–∏–µ: ${move.player}`;
        }
      }
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–±–µ–¥—É
      if (checkTicWin(move.player)) {
        document.querySelector('.game-status').textContent = `üèÜ –ü–æ–±–µ–¥–∏–ª ${move.player}!`;
        ticScore[move.player]++;
        ticPlaying = false;
        setTimeout(() => {
          startTicTacToeDemo();
        }, 3000);
        return;
      }
      
      ticDemoStep++;
      
      // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(startTicDemo, 1500);
    }
    
    function checkTicWin(player) {
      for (const line of ticWins) {
        const [a, b, c] = line;
        if (ticBoard[a] === player && ticBoard[b] === player && ticBoard[c] === player) {
          return true;
        }
      }
      return false;
    }
    
    // Remember Color Demo - –õ–æ–≥–∏–∫–∞ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã
    const colorDemoColors = [
      { name: 'red', value: '#FE112E', display: '–ö—Ä–∞—Å–Ω—ã–π' },
      { name: 'blue', value: '#1E6FE3', display: '–°–∏–Ω–∏–π' },
      { name: 'green', value: '#2ED573', display: '–ó–µ–ª—ë–Ω—ã–π' },
      { name: 'yellow', value: '#FFE23F', display: '–ñ—ë–ª—Ç—ã–π' },
      { name: 'cyan', value: '#17A2B8', display: '–ì–æ–ª—É–±–æ–π' },
      { name: 'purple', value: '#A55EEA', display: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π' },
      { name: 'orange', value: '#FE7800', display: '–û—Ä–∞–Ω–∂–µ–≤—ã–π' }
    ];
    
    let colorDemoPlaying = false;
    let colorDemoState = {
      currentDifficulty: 2,
      targetColor: null,
      targetPositions: [],
      level: 1,
      gamePhase: 'showing-target',
      showDuration: 3000
    };
    
    function startRememberColorDemo() {
      colorDemoPlaying = true;
      colorDemoState.gamePhase = 'showing-target';
      colorDemoState.targetPositions = [];
      
      // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Ü–µ–ª–µ–≤–æ–π —Ü–≤–µ—Ç
      colorDemoState.targetColor = colorDemoColors[Math.floor(Math.random() * colorDemoColors.length)];
      
      // –í—ã–±–∏—Ä–∞–µ–º N —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –¥–ª—è —Ü–µ–ª–µ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞
      const availablePositions = Array.from({length: 25}, (_, i) => i);
      colorDemoState.targetPositions = [];
      
      for (let i = 0; i < colorDemoState.currentDifficulty; i++) {
        const randomIndex = Math.floor(Math.random() * availablePositions.length);
        colorDemoState.targetPositions.push(availablePositions.splice(randomIndex, 1)[0]);
      }
      
      updateColorDemoDisplay();
      showColorDemoTarget();
    }
    
    function updateColorDemoDisplay() {
      const levelNumber = document.querySelector('.level-number');
      const colorName = document.querySelector('.color-name');
      
      if (levelNumber) levelNumber.textContent = colorDemoState.level;
      if (colorName) {
        colorName.textContent = colorDemoState.targetColor.display;
        colorName.style.color = colorDemoState.targetColor.value;
      }
    }
    
    function showColorDemoTarget() {
      const colorSample = document.getElementById('colorSampleDemo');
      if (!colorSample) return;
      
      colorSample.style.backgroundColor = colorDemoState.targetColor.value;
      colorSample.classList.add('showing');
      
      setTimeout(() => {
        colorSample.classList.remove('showing');
        setTimeout(() => {
          showColorDemoField();
        }, 500);
      }, colorDemoState.showDuration);
    }
    
    function showColorDemoField() {
      const colorGrid = document.getElementById('colorGridDemo');
      if (!colorGrid) return;
      
      // –°–æ–∑–¥–∞–µ–º –ø–æ–ª–µ 5x5
      colorGrid.innerHTML = '';
      const otherColors = colorDemoColors.filter(c => c !== colorDemoState.targetColor);
      
      for (let i = 0; i < 25; i++) {
        const cell = document.createElement('div');
        cell.className = 'color-cell';
        cell.dataset.index = i;
        
        if (colorDemoState.targetPositions.includes(i)) {
          // –¶–µ–ª–µ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏
          cell.style.backgroundColor = colorDemoState.targetColor.value;
        } else {
          // –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ - —Å–ª—É—á–∞–π–Ω—ã–µ —Ü–≤–µ—Ç–∞
          const randomColor = otherColors[Math.floor(Math.random() * otherColors.length)];
          cell.style.backgroundColor = randomColor.value;
        }
        
        colorGrid.appendChild(cell);
      }
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–µ 3 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        clearColorDemoField();
        setTimeout(() => {
          colorDemoState.gamePhase = 'finished';
          endColorDemoGame();
        }, 1000);
      }, colorDemoState.showDuration);
    }
    
    function clearColorDemoField() {
      const cells = document.querySelectorAll('.color-cell');
      cells.forEach(cell => {
        cell.style.backgroundColor = '#f0f0f0';
      });
    }
    
    function endColorDemoGame() {
      colorDemoPlaying = false;
      
      // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
      const colorGrid = document.getElementById('colorGridDemo');
      if (colorGrid) colorGrid.innerHTML = '';
      
      // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∫–∞–∂–¥—ã–µ 3 —É—Ä–æ–≤–Ω—è
      if (colorDemoState.level % 3 === 0 && colorDemoState.currentDifficulty < 10) {
        colorDemoState.currentDifficulty = Math.min(10, colorDemoState.currentDifficulty + 2);
      }
      
      colorDemoState.level++;
      
      // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
      setTimeout(() => {
        startRememberColorDemo();
      }, 2000);
    }
    
    // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('load', function() {
      // –ó–∞–ø—É—Å–∫–∞–µ–º –¥–µ–º–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
      setTimeout(() => {
        startHuntCirclesDemo();
        startTicTacToeDemo();
        startRememberColorDemo();
      }, 1000);
    });
  </script>
</body>
</html>